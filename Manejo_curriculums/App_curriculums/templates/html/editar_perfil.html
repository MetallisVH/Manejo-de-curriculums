<!DOCTYPE html>
<html>
<head>
    <title>Editar Mi Perfil</title>
</head>
<body>
    <h1>Editar Mi Perfil</h1>
    
    <form method="post" action="{% url 'guardar_perfil' %}">
        {% csrf_token %}
        
        <label for="nombre_completo">Nombre:</label>
        <input type="text" id="nombre_completo" name="nombre_completo" value="{{ nombre_completo }}" required><br>
        
        <label for="nombre_usu">Nombre de Usuario:</label>
        <input type="text" id="nombre_usu" name="nombre_usu" value="{{ nombre_usu }}" required><br>
        
        <label for="genero">Género:</label>
        <select id="genero" name="genero" required>
            <option value="Femenino" {% if genero == 'Femenino' %}selected{% endif %}>Femenino</option>
            <option value="Masculino" {% if genero == 'Masculino' %}selected{% endif %}>Masculino</option>
            <option value="Otro" {% if genero == 'Otro' %}selected{% endif %}>Otro</option>
        </select><br>
        
        <div id="otroGeneroDiv" {% if genero != 'Otro' %}style="display: none;"{% endif %}>
            <label for="otro_genero">Especificar Género:</label>
            <input type="text" id="otro_genero" name="otro_genero"><br>
        </div>
        
        <label for="edad">Edad:</label>
        <input type="number" id="edad" name="edad" value="{{ edad }}" required><br>
        
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" value="{{ email }}" required><br>
        
        <label for="telefono">Teléfono:</label>
        <input type="tel" id="telefono" name="telefono" value="{{ telefono }}" required><br>
        
        <input type="submit" value="Guardar Cambios">
    </form>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var generoSelect = document.getElementById("genero");
            var otroGeneroDiv = document.getElementById("otroGeneroDiv");
            
            generoSelect.addEventListener('change', function() {
                otroGeneroDiv.style.display = (generoSelect.value === "Otro") ? "block" : "none";
            });
            
            // Al cargar la página, verificamos el estado inicial
            otroGeneroDiv.style.display = (generoSelect.value === "Otro") ? "block" : "none";
        });
    </script>
</body>
</html>
